{"version":3,"sources":["webpack:///./src/components/postPage/postPage.vue?8da8","webpack:///./src/components/postPage/reading.vue?65e8","webpack:///src/components/postPage/reading.vue","webpack:///./src/components/postPage/reading.vue?cf4c","webpack:///./src/components/postPage/reading.vue","webpack:///./src/components/postPage/likePost.vue?c48a","webpack:///src/components/postPage/likePost.vue","webpack:///./src/components/postPage/likePost.vue?17e1","webpack:///./src/components/postPage/likePost.vue","webpack:///./src/components/postPage/commentData.vue?8a8f","webpack:///src/components/postPage/commentData.vue","webpack:///./src/components/postPage/commentData.vue?8099","webpack:///./src/components/postPage/commentData.vue","webpack:///src/components/postPage/postPage.vue","webpack:///./src/components/postPage/postPage.vue?edfb","webpack:///./src/components/postPage/postPage.vue","webpack:///./src/components/message/form.vue?1ca5","webpack:///src/components/message/form.vue","webpack:///./src/components/message/form.vue?825f","webpack:///./src/components/message/form.vue","webpack:///./src/assets/img/author.png","webpack:///./src/components/postPage/postPage.vue?88e8"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","style","backgroundColor","tagRandomBg","attrs","name","params","text","postData","tag","_v","_s","title","formatTime","views","cmtTotal","defaultImg","domProps","content","_m","mood","prev","_id","_e","on","$event","togglePost","next","directives","rawName","value","parentCmtData","expression","submitForm","_l","cmt","key","replyCmt","cmtChangePaging","percentage","staticRenderFns","mType","props","type","Number","default","data","screenWidth","methods","handleResize","document","body","clientWidth","mounted","window","addEventListener","watch","handler","deep","beforeDestroy","removeEventListener","component","post","components","BlockPost","likePost","getLikePost","api","postNum","created","newTime","parentCmtId","$emit","cmtList","length","id","String","parentName","parentId","computed","time","getComment","getChildCmt","inject","BSidebar","Reading","LikePost","BForm","Comment","scrollHeight","scroll","pageNum","cmtNum","cmtData","tagBg","defaultImgSrc","handleScroll","documentElement","scrollTop","Math","ceil","a","getOnePost","postId","getBrotherPost","$router","push","getPostComment","getMood","$confirm","confirmButtonText","cancelButtonText","email","alert","parent","scrollTo","$refs","form","$children","$el","focus","imgSrc","$route","lock","background","setTimeout","loading","close","destroyed","msgForm","rules","checkName","model","callback","$$v","$set","formName","validate","valid","successMsg","module","exports"],"mappings":"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","file":"js/post.0316a139.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"tree\",staticClass:\"common_post container\"},[_c('div',{staticClass:\"postPage_wrap\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"postPage_title\"},[_c('router-link',{staticClass:\"tag\",style:({ backgroundColor: _vm.tagRandomBg }),attrs:{\"to\":{name: 'searchresult', params: { text: _vm.postData.tag }}}},[_vm._v(_vm._s(_vm.postData.tag))]),_c('h2',[_vm._v(_vm._s(_vm.postData.title))]),_c('span',{staticClass:\"time\"},[_c('i',{staticClass:\"el-icon-time\"}),_vm._v(_vm._s(_vm.formatTime))]),_c('span',{staticClass:\"views\"},[_c('i',{staticClass:\"el-icon-view\"}),_vm._v(_vm._s(_vm.postData.views))]),_c('span',{staticClass:\"comment\"},[_c('i',{staticClass:\"el-icon-chat-dot-round\"}),_vm._v(_vm._s(_vm.cmtTotal))])],1),_c('div',{staticClass:\"postPage_content\"},[_c('div',{staticClass:\"img\"},[_c('img',{attrs:{\"src\":_vm.defaultImg}})]),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.postData.content)}}),_c('div',{staticClass:\"mood\"},[_vm._m(0),_vm._v(\" \"+_vm._s(_vm.mood)+\" \")]),_c('div',{staticClass:\"toggle_post\"},[_c('div',{staticClass:\"prev\"},[_c('span',[_vm._v(\"上一篇\")]),(!_vm.prev._id)?_c('span',{staticClass:\"null\"},[_vm._v(\"没有了\")]):_vm._e(),(_vm.prev._id)?_c('span',{staticClass:\"prevTitle\",on:{\"click\":function($event){return _vm.togglePost(_vm.prev)}}},[_vm._v(_vm._s(_vm.prev.title ? _vm.prev.title : '没有了'))]):_vm._e()]),_c('div',{staticClass:\"next\"},[_c('span',[_vm._v(\"下一篇\")]),(!_vm.next._id)?_c('span',{staticClass:\"null\"},[_vm._v(\"没有了\")]):_vm._e(),(_vm.next._id)?_c('span',{staticClass:\"nextTitle\",on:{\"click\":function($event){return _vm.togglePost(_vm.next)}}},[_vm._v(_vm._s(_vm.next.title ? _vm.next.title : '没有了'))]):_vm._e()])]),_c('div',{staticClass:\"like\"},[_c('like-post')],1),_c('div',{staticClass:\"comment_wrap\"},[_c('h2',{staticClass:\"comment_title\"},[_vm._v(\"发表评论\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.parentCmtData.name),expression:\"parentCmtData.name\"}],staticClass:\"cancel\"},[_vm._v(\"正在回复\"),_c('i',[_vm._v(_vm._s(_vm.parentCmtData.name))]),_c('span',{on:{\"click\":function($event){_vm.parentCmtData = ''}}},[_vm._v(\"取消回复\")])]),_c('div',{staticClass:\"form\"},[_c('b-form',{ref:\"form\",on:{\"submitForm\":_vm.submitForm}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cmtTotal !== 0),expression:\"cmtTotal !== 0\"}],staticClass:\"showComment\"},[_c('h2',[_vm._v(\"网友评论\")]),_vm._l((_vm.cmtData),function(cmt){return _c('comment',{key:cmt._id,attrs:{\"id\":cmt._id},on:{\"replyCmt\":_vm.replyCmt}})})],2),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"page-size\":6,\"hide-on-single-page\":\"\",\"total\":_vm.cmtTotal},on:{\"current-change\":_vm.cmtChangePaging}})],1)])]),_c('div',{staticClass:\"right\"},[_c('b-sidebar')],1)]),_c('reading',{attrs:{\"percentage\":_vm.percentage}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('i',{staticClass:\"el-icon-sunrise-1\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"common_reading\"},[_c('el-progress',{attrs:{\"type\":_vm.mType,\"percentage\":+_vm.percentage,\"color\":\"#3545ee\",\"stroke-width\":3,\"width\":80}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"common_reading\">\r\n    <el-progress \r\n      :type=\"mType\" \r\n      :percentage=\"+percentage\" \r\n      color=\"#3545ee\"\r\n      :stroke-width=\"3\"\r\n      :width=\"80\"\r\n    ></el-progress>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    percentage: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      screenWidth: '',\r\n      mType: 'circle'\r\n    }\r\n  },\r\n  methods: {\r\n    handleResize () {\r\n      this.screenWidth = document.body.clientWidth\r\n    }\r\n  },\r\n  mounted () {\r\n    this.screenWidth = document.body.clientWidth\r\n    window.addEventListener('resize', this.handleResize)\r\n    if(this.screenWidth > 992) {\r\n      this.mType = 'circle'\r\n    } else {\r\n      this.mType = 'line'\r\n    }\r\n  },\r\n  watch: {\r\n    screenWidth: {\r\n      handler(val) {\r\n        if(val > 992) {\r\n          this.mType = 'circle'\r\n        } else {\r\n          this.mType = 'line'\r\n        }\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  beforeDestroy: function () {\r\n    window.removeEventListener('resize', this.handleResize)\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reading.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reading.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./reading.vue?vue&type=template&id=08f29396&\"\nimport script from \"./reading.vue?vue&type=script&lang=js&\"\nexport * from \"./reading.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"common_likePost\"},[_c('h2',{staticClass:\"likeTitle\"},[_vm._v(\"猜你喜欢\")]),_vm._l((_vm.likePost),function(post){return _c('block-post',{key:post._id,attrs:{\"postData\":post,\"num\":50}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"common_likePost\">\r\n    <h2 class=\"likeTitle\">猜你喜欢</h2>\r\n    <block-post v-for=\"post in likePost\" :key=\"post._id\" :postData=\"post\" :num=\"50\"></block-post>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/api/index.js'\r\nimport BlockPost from '../common/blockPost'\r\nexport default {\r\n  components: {\r\n    BlockPost\r\n  },\r\n  data() {\r\n    return {\r\n      likePost: []\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取猜你喜欢文章\r\n    getLikePost () {\r\n      api.getRandomPost({\r\n        params: {\r\n          postNum: 3\r\n        }\r\n      }).then(res => {\r\n        if(res.data.code === 200 && res.data.data) {\r\n          this.likePost = res.data.data\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.getLikePost()\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./likePost.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./likePost.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./likePost.vue?vue&type=template&id=351b70ad&\"\nimport script from \"./likePost.vue?vue&type=script&lang=js&\"\nexport * from \"./likePost.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"post_comment\"},[_c('div',{staticClass:\"commentTemp clearboth\"},[_vm._m(0),_c('div',{staticClass:\"right_content\"},[_c('div',{staticClass:\"right_top\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.data.name))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.newTime))]),(!_vm.data.parentCmtId)?_c('span',{staticClass:\"reply\",on:{\"click\":function($event){return _vm.$emit('replyCmt', _vm.data)}}},[_vm._v(\"回复\")]):_vm._e()]),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.data.content))])])]),(_vm.cmtList.length !== 0)?_c('div',{staticClass:\"cmtChildren\"},_vm._l((_vm.cmtList),function(cmt){return _c('comment-template',{key:cmt._id,attrs:{\"id\":cmt._id}})}),1):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"left_img\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/author.png\")}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"post_comment\">\r\n    <div class=\"commentTemp clearboth\">\r\n      <div class=\"left_img\">\r\n        <img src=\"~@/assets/img/author.png\">\r\n      </div>\r\n      <div class=\"right_content\">\r\n        <div class=\"right_top\">\r\n          <span class=\"name\">{{data.name}}</span>\r\n          <span class=\"time\">{{newTime}}</span>\r\n          <span class=\"reply\" v-if=\"!data.parentCmtId\" @click=\"$emit('replyCmt', data)\">回复</span>\r\n        </div>\r\n        <div class=\"content\">{{data.content}}</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"cmtChildren\" v-if=\"cmtList.length !== 0\">\r\n      <comment-template v-for=\"cmt in cmtList\" :key=\"cmt._id\"  :id=\"cmt._id\"></comment-template>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/api/index.js'\r\nimport moment from 'moment'\r\nimport {formatDate} from '@/util/index'\r\nexport default {\r\n  name: 'comment-template',\r\n  props: {\r\n    id: String\r\n  },\r\n  data() {\r\n    return {\r\n      data: '',\r\n      parentName: '',\r\n      parentId: '',\r\n      cmtList: []\r\n    }\r\n  },\r\n  computed: {\r\n    newTime () {\r\n      let time = moment(this.data.time).format('YYYY-MM-DD, hh:mm')\r\n      return time\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取评论数据\r\n    getComment (id) {\r\n      api.getOneComment({\r\n        params: {\r\n          id\r\n        }\r\n      }).then(res => {\r\n        let data = res.data\r\n        if(data.code === 200 && data.data._id){\r\n          this.data = data.data\r\n        }\r\n      })\r\n    },\r\n    // 获取子评论数据\r\n    getChildCmt (id) {\r\n      api.getAllChildCmt({\r\n        params: {\r\n          id\r\n        }\r\n      }).then(res => {\r\n        let data = res.data\r\n        if(data.code === 200 && data.data) {\r\n          this.cmtList = data.data\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getComment(this.id)\r\n    this.getChildCmt(this.id)\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./commentData.vue?vue&type=template&id=3cc6478f&\"\nimport script from \"./commentData.vue?vue&type=script&lang=js&\"\nexport * from \"./commentData.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"common_post container\" ref=\"tree\">\r\n    <div class=\"postPage_wrap\">\r\n      <div class=\"left\">\r\n        <div class=\"postPage_title\">\r\n          <router-link :to=\"{name: 'searchresult', params: { text: postData.tag }}\" :style=\"{ backgroundColor: tagRandomBg }\" class=\"tag\">{{postData.tag}}</router-link>\r\n          <h2>{{postData.title}}</h2>\r\n          <span class=\"time\"><i class=\"el-icon-time\"></i>{{formatTime}}</span>\r\n          <span class=\"views\"><i class=\"el-icon-view\"></i>{{postData.views}}</span>\r\n          <span class=\"comment\"><i class=\"el-icon-chat-dot-round\"></i>{{cmtTotal}}</span>\r\n        </div>\r\n        <div class=\"postPage_content\">\r\n          <div class=\"img\">\r\n            <img :src=\"defaultImg\">\r\n          </div>\r\n          <div class=\"content\" v-html=\"postData.content\"></div>\r\n          <div class=\"mood\">\r\n            <p><i class=\"el-icon-sunrise-1\"></i></p>\r\n            {{mood}}\r\n          </div>\r\n          <div class=\"toggle_post\">\r\n            <div class=\"prev\">\r\n              <span>上一篇</span>\r\n              <span class=\"null\"  v-if=\"!prev._id\">没有了</span>\r\n              <span @click=\"togglePost(prev)\" class=\"prevTitle\" v-if=\"prev._id\">{{prev.title ? prev.title : '没有了'}}</span>\r\n            </div>\r\n            <div class=\"next\">\r\n              <span>下一篇</span>\r\n              <span class=\"null\" v-if=\"!next._id\">没有了</span>\r\n              <span @click=\"togglePost(next)\" class=\"nextTitle\" v-if=\"next._id\">{{next.title ? next.title : '没有了'}}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"like\">\r\n            <like-post></like-post>\r\n          </div>\r\n          <div class=\"comment_wrap\">\r\n            <h2 class=\"comment_title\">发表评论</h2>\r\n            <div class=\"cancel\" v-show=\"parentCmtData.name\">正在回复<i>{{parentCmtData.name}}</i><span @click=\"parentCmtData = ''\">取消回复</span></div>\r\n            <div class=\"form\">\r\n              <b-form ref=\"form\" @submitForm=\"submitForm\"></b-form>\r\n            </div>\r\n            <div class=\"showComment\" v-show=\"cmtTotal !== 0\">\r\n              <h2>网友评论</h2>\r\n              <comment v-for=\"cmt in cmtData\" :key=\"cmt._id\" :id=\"cmt._id\" @replyCmt=\"replyCmt\"></comment>\r\n            </div>\r\n            <el-pagination\r\n              background\r\n              layout=\"prev, pager, next\"\r\n              :page-size=\"6\"\r\n              hide-on-single-page\r\n              :total=\"cmtTotal\"\r\n              @current-change=\"cmtChangePaging\">\r\n            </el-pagination>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"right\">\r\n        <b-sidebar></b-sidebar>\r\n      </div>\r\n    </div>\r\n    <reading :percentage=\"percentage\"></reading>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/api/index.js'\r\nimport BSidebar from '../common/sidebar'\r\nimport Reading from './reading'\r\nimport LikePost from './likePost'\r\nimport BForm from '../message/form'\r\nimport Comment from './commentData'\r\nimport {getRandom, formatDate, filterStr} from '@/util/index'\r\nexport default {\r\n  inject: ['reload'],\r\n  components: {\r\n    BSidebar,\r\n    Reading,\r\n    LikePost,\r\n    BForm,\r\n    Comment\r\n  },\r\n  data() {\r\n    return {\r\n      percentage: 0,\r\n      scrollHeight: 0,\r\n      scroll: 0,\r\n      id: '',\r\n      postData: {},\r\n      next: {},\r\n      prev: {},\r\n      mood: '',\r\n      pageNum: 1,\r\n      cmtNum: 6,\r\n      cmtTotal: 0,\r\n      cmtData: [],\r\n      parentCmtData: '',\r\n      tagBg: ['#f9c100', '#4ca80b', '#ff7500', '#ee303a', '#0ab3af', '#fc4a00', '#0085FF', '#6555E2'],\r\n      defaultImgSrc: require('../../assets/img/bg-6.png')\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取滚动条数据，计算阅读百分比\r\n    handleScroll () {\r\n      this.scrollHeight = document.documentElement.scrollHeight\r\n      let b = this.scrollHeight - document.body.clientHeight\r\n      let a = b / 100\r\n      this.scroll = document.documentElement.scrollTop\r\n      this.percentage = Math.ceil(this.scroll / a)\r\n    },\r\n    // 获取文章数据\r\n    getOnePost () {\r\n      api.getOnePost({\r\n        params: {\r\n          postId: this.id\r\n        }\r\n      }).then(res => {\r\n        if(res.data.code === 200 && res.data.data) {\r\n          this.postData = res.data.data\r\n          this.postData.content = JSON.parse(this.postData.content)\r\n        }\r\n      })\r\n    },\r\n    // 根据文章id获取上一篇和下一篇文章信息\r\n    getBrotherPost (id) {\r\n      api.getBrotherPost({\r\n        params: {\r\n          postId: id\r\n        }\r\n      }).then(res => {\r\n        let data = res.data\r\n        if(data.code === 200 && data.data) {\r\n          this.next = data.data.next\r\n          this.prev = data.data.prev\r\n        }\r\n      })\r\n    },\r\n    // 上下篇文章切换\r\n    togglePost (post) {\r\n      this.$router.push({\r\n        name: 'post',\r\n        params: { type: post.parent, id: post._id }\r\n      })\r\n    },\r\n    // 获取文章评论数据\r\n    getPostComment () {\r\n      api.getPostAllComment({\r\n        params: {\r\n          postId: this.id,\r\n          pageNum: this.pageNum,\r\n          cmtNum: this.cmtNum\r\n        }\r\n      }).then(res => {\r\n        if(res.data.code === 200 && res.data.data !== '无评论') {\r\n          this.cmtTotal = res.data.data.total\r\n          this.cmtData = res.data.data.data\r\n        }\r\n      })\r\n    },\r\n    // 获取随机心情\r\n    getMood () {\r\n      api.getRandomMood().then(res => {\r\n        if(res.data.code === 200 && res.data.data) {\r\n          this.mood = res.data.data.content\r\n        }\r\n      })\r\n    },\r\n    // 发布评论\r\n    submitForm (obj) {\r\n      // 如果 this.parentCmtData 没值说明是评论，如果有值就是回复\r\n      if(this.parentCmtData === '') {\r\n        this.$confirm('确定发布评论吗？', '', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'info '\r\n        }).then(() => {\r\n          api.addComment({\r\n            parentId: this.postData._id,\r\n            name: filterStr(obj.name),\r\n            email: filterStr(obj.email),\r\n            content: filterStr(obj.content)\r\n          }).then(res => {\r\n            if(res.data.code === 200 && res.data.data._id) {\r\n              alert('发布成功')\r\n              this.$refs.form.$children[0].$el[0].value = ''\r\n              this.$refs.form.$children[0].$el[1].value = ''\r\n              this.$refs.form.$children[0].$el[2].value = ''\r\n              this.$router.go(0)\r\n            } else {\r\n              alert('发布失败')\r\n            }\r\n          })\r\n        })\r\n      } else {\r\n        this.$confirm(`确定对<<${this.parentCmtData.name}>>进行评论吗？`, '', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'info '\r\n        }).then(() => {\r\n          api.replyComment({\r\n            postId: this.id,\r\n            parentCmtId: this.parentCmtData._id,\r\n            name: filterStr(obj.name),\r\n            email: filterStr(obj.email),\r\n            content: filterStr(obj.content)\r\n          }).then(res => {\r\n            let data = res.data\r\n            if(data.code === 200 && data.data._id) {\r\n              this.$refs.form.$children[0].$el[0].value = ''\r\n              this.$refs.form.$children[0].$el[1].value = ''\r\n              this.$refs.form.$children[0].$el[2].value = ''\r\n              this.parentCmtData = ''\r\n              alert('发布成功')\r\n              this.$router.go(0)\r\n            } else {\r\n              alert('发布失败')\r\n            }\r\n          })\r\n        })\r\n      }\r\n    },\r\n    // 点击了回复，将父评传过来保存，用于发送请求的判断条件\r\n    replyCmt (parent) {\r\n      this.parentCmtData = parent\r\n      // 滚动到表单位置\r\n      window.scrollTo(0,this.$refs.form.$el.offsetTop - 100)\r\n      // 聚焦input框\r\n      this.$refs.form.$children[0].$el[0].focus()\r\n    },\r\n    cmtChangePaging (pageNum) {\r\n      this.pageNum = pageNum\r\n      this.getPostComment()\r\n    }\r\n  },\r\n  computed: {\r\n    // 给tag随机的背景色\r\n    tagRandomBg () {\r\n      return this.tagBg[getRandom(0, this.tagBg.length)]\r\n    },\r\n    // 格式化时间\r\n    formatTime () {\r\n      return formatDate(this.postData.time)\r\n    },\r\n    // 文章是否有图片，如果没有使用一张默认图片进行展示\r\n    defaultImg () {\r\n      if (this.postData.imgSrc) return this.postData.imgSrc\r\n      else return this.defaultImgSrc\r\n    }\r\n  },\r\n  created() {\r\n    this.id = this.$route.params.id\r\n    this.getOnePost()\r\n    this.getBrotherPost(this.id)\r\n    this.getPostComment()\r\n    this.getMood()\r\n  },\r\n  mounted () {\r\n    window.scrollTo(0,0)\r\n    this.scrollHeight = document.documentElement.scrollHeight\r\n    window.addEventListener('scroll',this.handleScroll)\r\n  },\r\n  watch: {\r\n    $route () {\r\n      const loading = this.$loading({\r\n        lock: true,\r\n        text: '正在加载',\r\n        background: 'rgb(255,255,255)'\r\n      })\r\n      this.id = ''\r\n      this.postData = {}\r\n      this.next = {}\r\n      this.prev = {}\r\n      this.mood = ''\r\n      this.pageNum = 1\r\n      this.cmtNum = 6\r\n      this.cmtTotal = 0\r\n      this.cmtData = []\r\n      this.parentCmtData = ''\r\n      this.id = this.$route.params.id\r\n      this.getOnePost()\r\n      this.getBrotherPost(this.id)\r\n      this.getPostComment()\r\n      this.getMood()\r\n      \r\n      setTimeout(() =>{\r\n        window.scrollTo(0,0)\r\n        loading.close()\r\n      }, 800)\r\n      \r\n    }\r\n  },\r\n  destroyed () {\r\n    window.removeEventListener('scroll',this.handleScroll)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '@/assets/css/common/postPage.scss';\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./postPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./postPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./postPage.vue?vue&type=template&id=3c7ca790&\"\nimport script from \"./postPage.vue?vue&type=script&lang=js&\"\nexport * from \"./postPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./postPage.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"common_form\"},[_c('el-form',{ref:\"msgForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.msgForm,\"status-icon\":\"\",\"rules\":_vm.rules}},[_c('el-form-item',{staticClass:\"name\",attrs:{\"prop\":\"name\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"昵称*\",\"autocomplete\":\"off\"},on:{\"blur\":_vm.checkName},model:{value:(_vm.msgForm.name),callback:function ($$v) {_vm.$set(_vm.msgForm, \"name\", $$v)},expression:\"msgForm.name\"}})],1),_c('el-form-item',{staticClass:\"email\",attrs:{\"prop\":\"email\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"邮箱*\",\"autocomplete\":\"off\"},model:{value:(_vm.msgForm.email),callback:function ($$v) {_vm.$set(_vm.msgForm, \"email\", $$v)},expression:\"msgForm.email\"}})],1),_c('el-form-item',{staticClass:\"content\",attrs:{\"prop\":\"content\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":5,\"maxlength\":\"50\",\"placeholder\":\"请输入留言内容\"},model:{value:(_vm.msgForm.content),callback:function ($$v) {_vm.$set(_vm.msgForm, \"content\", $$v)},expression:\"msgForm.content\"}})],1),_c('el-form-item',{staticClass:\"btn\"},[_c('p',{staticClass:\"clearboth\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('msgForm')}}},[_vm._v(\"发布\")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"common_form\">\r\n    <el-form \r\n      :model=\"msgForm\" \r\n      status-icon \r\n      :rules=\"rules\" \r\n      ref=\"msgForm\"\r\n      class=\"demo-ruleForm\">\r\n      <el-form-item class=\"name\" prop=\"name\">\r\n        <el-input type=\"text\" placeholder=\"昵称*\" v-model=\"msgForm.name\" autocomplete=\"off\" @blur=\"checkName\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item class=\"email\" prop=\"email\">\r\n        <el-input type=\"text\" placeholder=\"邮箱*\" v-model=\"msgForm.email\" autocomplete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item class=\"content\" prop=\"content\">\r\n        <el-input type=\"textarea\" :rows=\"5\" maxlength=\"50\" v-model=\"msgForm.content\" placeholder=\"请输入留言内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item class=\"btn\">\r\n        <p class=\"clearboth\"><el-button type=\"primary\" @click=\"submitForm('msgForm')\">发布</el-button></p>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/api/index.js'\r\nimport {filterStr} from '@/util'\r\nexport default {\r\n  data() {\r\n    return {\r\n      msgForm:{\r\n        name: '',\r\n        email: '',\r\n        content: '',\r\n      },\r\n      rules: {\r\n        name: [\r\n          { required: true, message: '请输入昵称', trigger: 'blur' },\r\n          { min: 2, max: 6, message: '长度在 2 到 6 个字符', trigger: 'blur' },\r\n          {type: 'string', whitespace: true}\r\n        ],\r\n        email: [\r\n          { required: true, message: '请输入邮箱地址', trigger: 'blur' },\r\n          { type: 'email', message: '请输入正确的邮箱地址', trigger: ['blur', 'change'] },\r\n          {type: 'string', whitespace: true}\r\n        ],\r\n        content: [\r\n          { required: true, message: '请输入留言内容', trigger: 'blur' },\r\n          { min: 1, max: 50, message: '长度不超过50个字符', trigger: 'blur' },\r\n          {type: 'string', whitespace: true}\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 表单验证\r\n    submitForm(formName) {\r\n      const obj = {...this.msgForm}\r\n      this.$refs[formName].validate((valid) => {\r\n        this.msgForm.name = filterStr(this.msgForm.name)\r\n        this.msgForm.email = filterStr(this.msgForm.email)\r\n        this.msgForm.content = filterStr(this.msgForm.content)\r\n        if (valid) {\r\n          this.$emit('submitForm', obj)\r\n          this.msgForm.content = ''\r\n        } else {\r\n          alert('未通过验证，请检查后重试')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    // 检查昵称是否重复\r\n    checkName () {\r\n      if(!this.msgForm.name) return\r\n      api.checkName({\r\n        params: {\r\n          name: filterStr(this.msgForm.name)\r\n        }\r\n      }).then(res => {\r\n        let data = res.data\r\n        if(data.data === '昵称重复'){\r\n          alert('昵称重复请更换')\r\n        }\r\n      })\r\n    },\r\n    // 发布成功后初始化\r\n    successMsg () {\r\n      this.content = ''\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    this.msgForm.name = ''\r\n    this.msgForm.email = ''\r\n    this.msgForm.content = ''\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./form.vue?vue&type=template&id=6c958803&\"\nimport script from \"./form.vue?vue&type=script&lang=js&\"\nexport * from \"./form.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAPAA8AwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+t8CjFJ+VH5UALgUYFavh3w1e+JrwwWiDavMkr8Ig9z/AEr0S1+DenrEBc31zJJjkxBUH5EGgDybAowK7/xF8JrmwgefTZzeooyYXXEmPbHB+nFcAQQcHg+lABgUYFJ+VH5UALn3oz70fjRzQB734F0iPR/DNkigCSZBNK3cswz+gwPwrfz71jeDdTTVfDOnzI2SsSxuPRlGD/LP41tc0AJn3rxX4o6RHpfiUywgJHdJ5xAHAbJDfyz+Ne1814z8WdTS98SJBG24WsQRiP7xJJH6igDis+9Gfej8aPx/SgA/Oj86MfWux+HPg1fEV611dqTYW5GV/wCej9dv07n8PWgDS+F1nr0E5ntowulyn959oJVX90759+ler/nSJGI0VFUKqjAVeABTsGgDM8Q/2odMlGkCL7WRgGY4wPbtn68V4BqVrdWd7NFexyx3QYlxL94k9/fPrX0lj61z3jLwjB4p05lwEvYwTDN3B/un2NAHgv50fnT54JLaaSGVGSSNirKeoI4IpmPrQAfhX0J4T0hdE8PWVqFw4jDSe7nk/qf0rwGxjWS9t1YZVpFBH419K4FACY9qMe1GKMUAGPajHtRjrRigDxv4s6Qtj4hjukXCXce44/vjg/pj864nHtXqnxmjU2WmPj5hI4B+oH+FeVgAigD/2Q==\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./postPage.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./postPage.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}